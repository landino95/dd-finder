<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Group</title>
    <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>
</head>
<body>
  <div id="app">
    <b-navbar toggleable="lg" type="dark" variant="danger">
      <b-navbar-brand href="/dev/home" class="mx-3">>D&D Group Finder</b-navbar-brand>
      
      <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>
      
      <b-collapse id="nav-collapse" is-nav>
        <b-navbar-nav>
          <b-nav-item href="/dev/search">Groups</b-nav-item>
          <b-nav-item href="#">Rules</b-nav-item>
        </b-navbar-nav>
        
          <b-navbar-nav class="ml-auto">
            <b-nav-item-dropdown right>
                <template #button-content>
                  <em>User</em>
                </template>
                  <b-dropdown-item href="/dev/user-page?userId=1">Profile</b-dropdown-item>
                  <b-dropdown-item href="#">Logout</b-dropdown-item>
            </b-nav-item-dropdown>
          </b-navbar-nav>
      </b-collapse>
    </b-navbar>
    <b-form @submit="createGroup" class="m-3">
      <h2>Create Group</h2>
      <b-form-group
        id="input-group-1"
        label="Group Name:"
        label-for="input-1"
      >
        <b-form-input
          id="input-1"
          v-model="form.groupName"
          placeholder="Enter Group name"
          required
        ></b-form-input>
      </b-form-group>

      <b-form-group
        id="input-group-2"
        label="Group Description:"
        label-for="input-2"
      >
        <b-form-input
          id="input-2"
          v-model="form.description"
          placeholder="Enter Group Description"
          required
        ></b-form-input>
      </b-form-group>

      <b-form-group id="input-group-3" label="Genre:" label-for="input-3">
        <b-form-select
          id="input-3"
          v-model="form.genre"
          :options="genre"
          required
        ></b-form-select>
      </b-form-group>

    <b-form-group id="input-group-4" label="Level:" label-for="input-4">
        <b-form-select
          id="input-4"
          v-model="form.level"
          :options="level"
          required
        ></b-form-select>
      </b-form-group>

        <b-form-group id="input-group-5" label="Play Style:" label-for="input-5">
        <b-form-select
          id="input-5"
          v-model="form.playStyle"
          :options="playStyle"
          required
        ></b-form-select>
      </b-form-group>

    <b-form-group id="input-group-6" label="Play Type:" label-for="input-6">
        <b-form-select
          id="input-6"
          v-model="form.playType"
          :options="playType"
          required
        ></b-form-select>
      </b-form-group>

      <b-button type="submit" variant="danger" class="mt-2">Submit</b-button>
    </b-form>
   </div>
</body>
</html>
<script>
    new Vue({
        el: "#app",
        data() {
          return {
            form : {
                groupName: '',
                description: '',
                genre: null,
                level: null,
                dm: 1,
                playStyle: null,
                playType: null,
            },
            genre: [{ text: 'Select Genre', value: null }, 'Fantasy', 'Historical', 'Sci-Fi'],
            level: [{ text: 'Select Level', value: null }, 'Beginner', 'Intermediate', 'Expert'],
            playType: [{ text: 'Select Play Type', value: null }, 'Online', 'Face-to-Face', 'Hybrid'],
            playStyle: [{ text: 'Select Play Style', value: null }, 'Normal', 'Funny'],
          }
        },
        mounted: function() {
        },
        methods: {
            createGroup(){
                console.log(this.form)
                axios.post(`/dev/createGroup`, this.form)
                .then(window.location.href = '/dev/search',
                (error) => {
                    console.error(error);
                });
            }
        }
    })
     
</script>