<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Group Search</title>
</head>
<body>
    <h2>Group Finder</h2>
   <div id="app">
        <input type="text" id="myInput" placeholder="Search for your next group..">
        <table id="myTable">
        <tr class="header">
            <th>Name</th>
            <th>Description</th>
            <th>Genre</th>
            <th>Play Type</th>
            <th>Play Style</th>
            <th>DM</th>
        </tr>
        <tr v-for="group in groups">
            <td>
            <a :href="'/dev/group-page?groupId='+ group.group_id">{{group.group_name}}</a></td>
            <td>{{group.description}}</td>
            <td>{{group.genre}}</td>
            <td>{{group.play_type}}</td>
            <td>{{group.style}}</td>
            <td>{{group.user_name}}</td>
        </tr>
        </table>
   </div> 
</body>
</html>
<script>
    new Vue({
        el: '#app',
        data() {
            return {
                groups: [],
            }
        },
        mounted: function() {
            this.getGroups();
        },
        methods: {
            getGroups() {
                axios.get(`/dev/groups`)
                .then(response => (this.groups = response.data, console.log(response.data)),
                (error) => {
                    console.error(error);
                }); 
            },
        }
    })
</script>